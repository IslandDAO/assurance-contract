<!doctype html>
<html>
  <head>
    <script src='http://ajax.googleapis.com/ajax/libs/angularjs/1.2.28/angular.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.0.17/dist/ethers.umd.js" type="text/javascript"></script>
    <script src="constants.js" type="text/javascript"></script>
    <script>
      var app = angular.module("app", []);

      app.controller("ctrl", function($scope) {

        $scope.address = "0x901CF8126c5F71f904086491FA71Ec47B5E5505d";


        $scope.check = async function() {
          console.log("check", $scope.address);
          let balance = await island.balanceOf($scope.address);
          $scope.balance = ethers.utils.formatEther(balance.toString());
          console.log($scope.balance);
          $scope.$apply();
        }



      });

    </script>
  </head>
  <body ng-app="app" ng-controller="ctrl">




    <input ng-model="address" placeholder="address"></input>
    <button ng-click="check()">check</button>
    <h1>{{ balance }}</h1>


    <p>Allowance to the</p>


    <h3>Stake to earn profits</h3>


    <h3>Unstake to move around</h3>


    <h3>Burn to redeem</h3>

  </body>

<script>


    async function init() {
      await window.ethereum.enable();
      const provider = new ethers.providers.Web3Provider(window.ethereum)
      let network = await provider.getNetwork(); console.log(network);      
      signer = provider.getSigner();

      assurance = new ethers.Contract(AssuranceAddress, AssuranceABI, signer);
      island    = new ethers.Contract(IslandAddress,    IslandABI,    signer);

    }

    init();

  </script>

</html>